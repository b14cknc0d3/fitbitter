(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{363:function(t,a,e){"use strict";e.r(a);var s=e(42),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"get-activity-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-activity-data"}},[t._v("#")]),t._v(" Get Activity Data")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("This guide assumes that your app has already been authorized and the snippet of code that I will show you can access to the Fitbit user id, here called "),e("code",[t._v("userID")]),t._v(", the Fitbit OAuth 2.0 client ID, here called "),e("code",[t._v("clientID")]),t._v(", and the Fitbit client secret, here called "),e("code",[t._v("clientSecret")]),t._v(".")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://dev.fitbit.com/build/reference/web-api/activity/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Activity data"),e("OutboundLink")],1),t._v(" contain details about a user's activity. In Fitbitter, a datapoint is expressed by the "),e("code",[t._v("FitbitActivityData")]),t._v(" model.\nFitbitter fetches a simplified version of "),e("a",{attrs:{href:"https://dev.fitbit.com/build/reference/web-api/activity/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Activity data"),e("OutboundLink")],1),t._v(" as described by Fitbit. In particular, an instance of "),e("code",[t._v("FitbitActivityData")]),t._v(" has the following fields:")]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The user encoded id.")]),t._v("\n  String"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" encodedId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The activity type id.")]),t._v("\n  String"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" activityId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The parent activity type id.")]),t._v("\n  String"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" activityParentId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The calories spent during the activity.")]),t._v("\n  double"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" calories"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The description of the activity.")]),t._v("\n  String"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" description"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The distance spanned during the activity.")]),t._v("\n  double"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" distance"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The duration of the activity.")]),t._v("\n  double"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" duration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// A flag that tells is the activity is the user's favorite.")]),t._v("\n  bool"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" isFavorite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The univocal activity id.")]),t._v("\n  String"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" logId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The name of the activity.")]),t._v("\n  String"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The start date of the activity.")]),t._v("\n  DateTime"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" dateOfMonitoring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// The start time of the activity.")]),t._v("\n  DateTime"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" startTime"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("An example is:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("FitbitActivityData(encodedId: 7ML2XV, activityId: 90001, activityParentId: 90001, calories: 1383.0, dateOfMonitoring: 2022-05-08 00:00:00.000, description: Very Leisurely - Less than 10 mph, distance: 41.44793, duration: 6261000.0, isFavorite: false, logId: 47854564311, name: Bike, startTime: 2022-05-08 09:11:00.000, )\n")])])]),e("p",[t._v("Information about the user's Activity data can be obtained in three steps:")]),t._v(" "),e("h3",{attrs:{id:"step-1-instanciate-a-manager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-1-instanciate-a-manager"}},[t._v("#")]),t._v(" Step 1: Instanciate a manager")]),t._v(" "),e("p",[t._v("First, you need to instanciate a "),e("code",[t._v("FitbitActivityDataManager")])]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[t._v("    FitbitActivityDataManager fitbitActivityTimeseriesDataManager "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("FitbitActivityDataManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        clientID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<OAuth 2.0 Client ID>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        clientSecret"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<Client Secret>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"step-2-create-the-request-url"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-2-create-the-request-url"}},[t._v("#")]),t._v(" Step 2: Create the request url")]),t._v(" "),e("p",[t._v("Then, you have to create a url object, "),e("code",[t._v("FitbitActivityAPIURL")]),t._v(" to fetch the Activity data as:")]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[t._v("    FitbitActivityAPIURL fitbitActivityApiUrl "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FitbitActivityAPIURL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("day")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                                    date"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DateTime"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                    userID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" userID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("where "),e("code",[t._v("date")]),t._v(" is the day you want to fetch FitbitActivityData from and "),e("code",[t._v("userID")]),t._v(" is the Fitbit user's id obtained the authentication step.")]),t._v(" "),e("h3",{attrs:{id:"step-3-get-the-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-3-get-the-data"}},[t._v("#")]),t._v(" Step 3: Get the data")]),t._v(" "),e("p",[t._v("Finally you can obtain the Activty data using")]),t._v(" "),e("div",{staticClass:"language-dart extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dart"}},[e("code",[t._v("    List"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("FitbitActivityData"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fitbitActivityData "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" fitbitActivityDataManager"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fitbitActivityApiUrl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);